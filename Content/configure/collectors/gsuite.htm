<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_HTML5___Side_Navigation_Skin" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../" data-mc-has-content-body="True" data-mc-toc-path="Configure|Collectors" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta name="zd-site-verification" content="9muqcovj07pyvoduai2al" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../../../Skins/Favicons/browserconfig.xml" />
        <meta name="description" content="Learn how to configure the G Suite collector and integrate it with Alert Logic in the Application Registry page to start collecting log data that you can search in the Alert Logic console." />
        <meta tags="office365, o365, office 365" />
        <link rel="apple-touch-icon" sizes="1545x1545" href="../../../Skins/Favicons/AlertLogic_Logo_2C_RGB_V_Standard.png" />
        <link rel="shortcut icon" href="../../../Skins/Favicons/favicon.png" />
        <link rel="icon" sizes="96x96" href="../../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../Skins/Favicons/favicon-16x16.png" /><title>Configure G Suite Log Collector</title>
        <meta http-equiv="Cache-control" content="no-cache" />
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <style>@import url('https://richg-github.github.io/al-styles/override-main.css');

</style>
        <link href="../../Resources/Stylesheets/MainStyles.css" rel="stylesheet" type="text/css" />
        <style>/*&lt;meta /&gt;*/

.button.previous-topic-button
{
	-pie-background: linear-gradient(transparent, transparent);
}

.button.next-topic-button
{
	-pie-background: linear-gradient(transparent, transparent);
}

.button.separator-button
{
	-pie-background: linear-gradient(transparent, transparent);
}

.button.print-button
{
	-pie-background: linear-gradient(transparent, transparent);
}

.button.expand-all-button
{
	-pie-background: linear-gradient(transparent, transparent);
}

.button.collapse-all-button
{
	-pie-background: linear-gradient(transparent, transparent);
}

.needs-pie
{
	behavior: url('../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <link rel="apple-touch-icon" sizes="1545x1545" href="../../../Skins/Favicons/AlertLogic_Logo_2C_RGB_V_Standard.png" />
        <link rel="shortcut icon" href="../../../Skins/Favicons/favicon.png" />
        <link rel="icon" sizes="96x96" href="../../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../Skins/Favicons/favicon-16x16.png" />
        <script src="../../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-drilldown vertical menu off-canvas-list" data-drilldown="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-drilldown-submenu-parent" data-mc-css-tree-node-collapsed="is-drilldown-submenu-parent" data-mc-css-sub-menu="vertical menu slide-in-right is-drilldown-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.drilldown" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" role="banner" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1279px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../../home.htm" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <div class="buttons popup-container clearfix topicToolbarProxy _Skins_Toolbar mc-component nocontent" style="mc-topic-toolbar-items: ;">
                                        <div class="button-group-container-left">
                                            <button class="button needs-pie previous-topic-button" title="Navigate previous" disabled="true">
                                                <div>
                                                    <div role="img" class="button-icon-wrapper" aria-label="Navigate previous">
                                                        <div class="button-icon"> </div>
                                                    </div>
                                                </div>
                                            </button>
                                            <button class="button needs-pie next-topic-button" title="Navigate next" disabled="true">
                                                <div>
                                                    <div role="img" class="button-icon-wrapper" aria-label="Navigate next">
                                                        <div class="button-icon"> </div>
                                                    </div>
                                                </div>
                                            </button>
                                            <div class="button-separator">
                                            </div>
                                            <button class="button needs-pie print-button" title="Print">
                                                <div>
                                                    <div role="img" class="button-icon-wrapper" aria-label="Print">
                                                        <div class="button-icon"> </div>
                                                    </div>
                                                </div>
                                            </button>
                                            <button class="button needs-pie expand-all-button" data-state1-class="expand-all-button" data-state2-class="collapse-all-button" data-state2-title="Collapse all" title="Expand all" data-state1-title="Expand all">
                                                <div>
                                                    <div role="img" class="button-icon-wrapper" aria-label="Expand all">
                                                        <div class="button-icon"> </div>
                                                    </div>
                                                </div>
                                            </button>
                                        </div>
                                    </div>
                                    <div class="nocontent">
                                        <div class="MCBreadcrumbsBox_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
                                        </div>
                                    </div>
                                    <div role="main" id="mc-main-content">
                                        <h1>Configure G Suite Log Collector</h1>
                                        <p>The <span class="mc-variable ALVariables.Company variable">Alert Logic</span> G Suite collector is an <span class="mc-variable ALVariables.AWS variable">AWS</span>-based API Poll (PAWS) log collector library mechanism designed to collect logs. You must complete tasks in G Suite and <span class="mc-variable ALVariables.Google_1 variable">Google Cloud Platform</span>, and then finish the configuration process in the <span class="mc-variable ALVariables.ALUI variable">Alert Logic console</span>. The <span class="mc-variable ALVariables.Company variable">Alert Logic</span> G Suite collector can collect from these specific G Suite applications:</p>
                                        <ul>
                                            <li>Login</li>
                                            <li>Admin</li>
                                            <li>Access Transparency</li>
                                            <li>Calendar</li>
                                            <li>Drive</li>
                                            <li>Google Plus</li>
                                            <li>Token</li>
                                            <li>Groups</li>
                                            <li>Groups Enterprise</li>
                                            <li>Mobile</li>
                                            <li>Rules</li>
                                            <li>User Accounts</li>
                                        </ul>
                                        <p>A single <span class="mc-variable ALVariables.Company variable">Alert Logic</span> G Suite collector can collect logs from any or all the content streams that you configure in the <span class="mc-variable ALVariables.ALUI variable">Alert Logic console</span>.  You can find G Suite logs collected with keyword search in the <span class="mc-variable ALVariables.ALUI_1 variable">Alert Logic console</span> <a href="../../get-started/search-a.htm" class="MCXref xref">Get Started with Search</a> page. </p>
                                        <h2>Create a service account JSON&#160;key in <span class="mc-variable ALVariables.Google_1 variable">Google Cloud Platform</span></h2>
                                        <p>You must complete a few key tasks in the Google Cloud Platform for logs to be collected. You must have a <span class="mc-variable ALVariables.Google_1 variable">Google Cloud Platform</span> account set up. For information about how to set up a <span class="mc-variable ALVariables.Google_1 variable">Google Cloud Platform</span> account, see <a href="https://console.cloud.google.com/getting-started">Get Started with <span class="mc-variable ALVariables.Google_1 variable">Google Cloud Platform</span></a>. </p>
                                        <ol>
                                            <li value="1">Log in to the <a href="https://console.cloud.google.com/">Google Cloud Platform console</a>. </li>
                                            <li value="2">Create a Google Cloud project.  For further instructions, see <a href="https://cloud.google.com/resource-manager/docs/creating-managing-projects#creating_a_project">Creating and Managing Projects</a>.  </li>
                                            <li value="3">Enable Admin API for this project on this <a href="https://console.cloud.google.com/apis/library/admin.googleapis.com">link</a>.</li>
                                            <li value="4">Create a service account in the IAM service page. The service account does not require a role. For further instructions, see go to <a href="https://developers.google.com/identity/protocols/OAuth2ServiceAccount#creatinganaccount">Creating a service account</a>. </li>
                                            <li value="5">Create a JSON based credential for the service account. A JSON file that contains your key downloads to your computer. Note the location of JSON file, which you will need later.       </li>
                                            <li value="6">Delegate domain-wide authority to the service account. Add the scope as <a href="https://www.googleapis.com/auth/admin.reports.usage.readonly">https://www.googleapis.com/auth/admin.reports.usage.readonly</a> and <a href="https://www.googleapis.com/auth/admin.reports.audit.readonly">https://www.googleapis.com/auth/admin.reports.audit.readonly</a>. For further instructions, go to <a href="https://developers.google.com/identity/protocols/OAuth2ServiceAccount#delegatingauthority">Delegating domain-wide authority to the service account</a>.</li>
                                        </ol>
                                        <h2>Create a custom role and enable API&#160;access in G Suite </h2>
                                        <p>In G Suite, you must create a custom role and enable API&#160;access to collect logs. You must have a G Suite account set up. </p>
                                        <ol>
                                            <li value="1">Log in to <a href="https://admin.google.com/">G Suite</a>. </li>
                                            <li value="2">You must create a custom admin role with the <b>Reports</b> privilege. For further instructions, see <a href="https://support.google.com/a/answer/2406043?hl=en&amp;ref_topic=9832445">Create, edit, and delete custom admin roles</a>. 
        <div class="note"><p>To learn more about G Suite privileges, see <a href="https://support.google.com/a/answer/1219251">Administrator privilege definitions</a>.</p></div></li>
                                            <li value="3">Create an administrative user account, and then assign the role you created to that user account. Make note of the user email address for later steps. For further instructions, see <a href="https://support.google.com/domains/answer/6304528?hl=en&amp;ref_topic=6317570">Add an administrator</a>. </li>
                                            <li value="4">Enable API access for G Suite. To learn how to manage API&#160;access in G Suite, see <a href="https://support.google.com/a/answer/60757?authuser=3">Control which third-party &amp; internal apps access G Suite data</a>. </li>
                                        </ol>
                                        <div>
                                            <h2>Configure collection in the <span class="mc-variable ALVariables.ALUI_1 variable">Alert Logic console</span></h2>
                                            <p>After you set up your G Suite and Google Cloud platform, you must complete the log collection configuration process in the <span class="mc-variable ALVariables.ALUI_1 variable">Alert Logic console</span>. This configuration is an account-level integration, which means you can configure more than one instance of G Suite collection. This capability is useful when  more than one instance of the application exists.</p>
                                            <p>To access the Application Registry page, click the menu icon (<img src="../../Resources/Images/dashboard/menu-icon.png" style="vertical-align: bottom;" />) from the Dashboards page. Click <img src="../../Resources/Images/dashboard/configure-icon.png" style="vertical-align: bottom;" /> <b>Configure</b>, and then click <b>Application Registry</b>. </p>
                                            <p><b>To add a new application collection</b>:</p>
                                            <ol>
                                                <li value="1">In the Application Registry click the <b>Google Cloud</b> tile, and then click <b>Google Suite Applications</b>. </li>
                                                <li value="2">In the <b>Application Name</b> field, enter a name for this G Suite collection instance. 
                </li>
                                                <li value="3">Under Collection Method and Policy, in the <b>Delegated&#160;User Email Address</b> field, enter the email address of the user you created earlier. </li>
                                                <li value="4">In the <b>Service account JSON key</b> field, enter the contents of the Google JSON file that you downloaded previously from generating a key. </li>
                                                <li value="5">Select the applications from which you want to collect logs. </li>
                                                <li value="6">(Optional) Enter a <b>Collection Start</b> time using a format such as (2020-01-01T16:00:00Z). If the <b>Collection Start</b> field is left blank, only logs generated after you configure this collection instance will be collected. 
            <div class="note"><p>The collection start time determines how far back you want <span class="mc-variable ALVariables.Company variable">Alert Logic</span> to collect logs if data already exists in your account. <span class="mc-variable ALVariables.Company variable">Alert Logic</span> can only collect logs up to 30 days prior to the date you configured this collection instance. 
</p></div></li>
                                                <li value="7">Click <b>ADD</b>.
Wait a few minutes for the application to create and appear in your application list. Do not click <b>ADD</b> again.  <![CDATA[                    ]]></li>
                                            </ol>
                                            <p>In the Applications List tab, if you configured your application correctly, within approximately 10 minutes you will see Configured next to the application. For more information about how to add instances or manage existing collecting applications, see <a href="../application-registry.htm#Configur" class="MCXref xref">Manage your configured applications</a>.</p>
                                            <h2 data-mc-conditions="Primary.NOTinBHOOF">Security content for Incidents</h2>
                                            <p data-mc-conditions="Primary.NOTinBHOOF"><span class="mc-variable ALVariables.Company variable">Alert Logic</span> builds collectors to capture data from various applications, with the goal of creating security content that is used to generate incidents for key security use cases. Currently, the <span class="mc-variable ALVariables.Company variable">Alert Logic</span> Security Content team is determining which type incidents can be created for the G Suite product. This information will be made available and updated on this page later in 2020.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>