<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_HTML5___Side_Navigation_Skin" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../" data-mc-has-content-body="True" data-mc-toc-path="Prepare|Log Collectors" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta name="zd-site-verification" content="9muqcovj07pyvoduai2al" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../../Skins/Favicons/browserconfig.xml" />
        <meta name="description" content="Learn how to configure Microsoft Azure Event Hubs, a data platform and event ingestion service, to collect your Azure logs and forward events to Alert Logic." />
        <link rel="apple-touch-icon" sizes="1545x1545" href="../../Skins/Favicons/AlertLogic_Logo_2C_RGB_V_Standard.png" />
        <link rel="shortcut icon" href="../../Skins/Favicons/favicon.png" />
        <link rel="icon" sizes="96x96" href="../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../Skins/Favicons/favicon-16x16.png" /><title>Alert Logic Log Collector for Microsoft Azure Event Hubs</title>
        <meta http-equiv="Cache-control" content="no-cache" />
        <link href="../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <style>@import url('https://dl.dropboxusercontent.com/s/q5nt7ghnm4mfv88/override-main.css');

</style>
        <link href="../Resources/Stylesheets/MainStyles.css" rel="stylesheet" type="text/css" />
        <style>/*&lt;meta /&gt;*/

.button.previous-topic-button
{
	-pie-background: linear-gradient(transparent, transparent);
}

.button.next-topic-button
{
	-pie-background: linear-gradient(transparent, transparent);
}

.button.separator-button
{
	-pie-background: linear-gradient(transparent, transparent);
}

.button.print-button
{
	-pie-background: linear-gradient(transparent, transparent);
}

.button.expand-all-button
{
	-pie-background: linear-gradient(transparent, transparent);
}

.button.collapse-all-button
{
	-pie-background: linear-gradient(transparent, transparent);
}

.needs-pie
{
	behavior: url('../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <link rel="apple-touch-icon" sizes="1545x1545" href="../../Skins/Favicons/AlertLogic_Logo_2C_RGB_V_Standard.png" />
        <link rel="shortcut icon" href="../../Skins/Favicons/favicon.png" />
        <link rel="icon" sizes="96x96" href="../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../Skins/Favicons/favicon-16x16.png" />
        <script src="../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-drilldown vertical menu off-canvas-list" data-drilldown="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-drilldown-submenu-parent" data-mc-css-tree-node-collapsed="is-drilldown-submenu-parent" data-mc-css-sub-menu="vertical menu slide-in-right is-drilldown-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.drilldown" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" role="banner" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1279px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../home.htm" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <div class="buttons popup-container clearfix topicToolbarProxy _Skins_Toolbar mc-component nocontent" style="mc-topic-toolbar-items: ;">
                                        <div class="button-group-container-left">
                                            <button class="button needs-pie previous-topic-button" title="Navigate previous" disabled="true">
                                                <div>
                                                    <div role="img" class="button-icon-wrapper" aria-label="Navigate previous">
                                                        <div class="button-icon"> </div>
                                                    </div>
                                                </div>
                                            </button>
                                            <button class="button needs-pie next-topic-button" title="Navigate next" disabled="true">
                                                <div>
                                                    <div role="img" class="button-icon-wrapper" aria-label="Navigate next">
                                                        <div class="button-icon"> </div>
                                                    </div>
                                                </div>
                                            </button>
                                            <div class="button-separator">
                                            </div>
                                            <button class="button needs-pie print-button" title="Print">
                                                <div>
                                                    <div role="img" class="button-icon-wrapper" aria-label="Print">
                                                        <div class="button-icon"> </div>
                                                    </div>
                                                </div>
                                            </button>
                                            <button class="button needs-pie expand-all-button" data-state1-class="expand-all-button" data-state2-class="collapse-all-button" data-state2-title="Collapse all" title="Expand all" data-state1-title="Expand all">
                                                <div>
                                                    <div role="img" class="button-icon-wrapper" aria-label="Expand all">
                                                        <div class="button-icon"> </div>
                                                    </div>
                                                </div>
                                            </button>
                                        </div>
                                    </div>
                                    <div class="nocontent">
                                        <div class="MCBreadcrumbsBox_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
                                        </div>
                                    </div>
                                    <div role="main" id="mc-main-content">
                                        <h1><span class="mc-variable ALVariables.Company variable">Alert Logic</span> Log Collector for <span class="mc-variable ALVariables.Azure_1 variable">Microsoft Azure</span> <span class="mc-variable ALVariables.Event_Hubs variable">Event Hubs</span></h1>
                                        <p><span class="mc-variable ALVariables.Azure_1 variable">Microsoft Azure</span> <span class="mc-variable ALVariables.Event_Hubs variable">Event Hubs</span> is a data streaming platform and event ingestion service that can receive and process millions of events per second. <span class="mc-variable ALVariables.Company variable">Alert Logic</span> allows you to configure <span class="mc-variable ALVariables.Event_Hubs variable">Event Hubs</span> to collect your <span class="mc-variable ALVariables.Azure variable">Azure</span> logs and forward them to <span class="mc-variable ALVariables.Company variable">Alert Logic</span>. </p>
                                        <p>To grant <span class="mc-variable ALVariables.Company variable">Alert Logic</span> permission to access <span class="mc-variable ALVariables.Event_Hubs variable">Event Hubs</span> for log collection, you must have:</p>
                                        <ul>
                                            <li>A <span class="mc-variable ALVariables.Azure_1 variable">Microsoft Azure</span> account with administrative privileges</li>
                                            <li>An <span class="mc-variable ALVariables.Company variable">Alert Logic</span> user account with administrative privileges</li>
                                        </ul>
                                        <p><span class="mc-variable ALVariables.Company variable">Alert Logic</span> recommends that you create <span class="mc-variable ALVariables.Azure variable">Azure</span> deployments in the <span class="mc-variable ALVariables.ALUI variable">Alert Logic console</span> for each <span class="mc-variable ALVariables.Azure variable">Azure</span> subscription you want to use to collect logs from <span class="mc-variable ALVariables.Event_Hubs variable">Event Hubs</span>. </p>
                                        <h2>Create an <span class="mc-variable ALVariables.Company variable">Alert Logic</span> access key</h2>
                                        <p>Access keys store your customer information to allow integration of data from your <span class="mc-variable ALVariables.Azure_1 variable">Microsoft Azure</span> account to <span class="mc-variable ALVariables.Company variable">Alert Logic</span> integrations and APIs. You can create an access key through the <span class="mc-variable ALVariables.ALUI_1 variable">Alert Logic console</span>. For more information, see <a href="access-key-management.htm" target="_blank" title="Access Key Management" alt="Access Key Management" class="MCXref xref">Create and Manage Alert Logic Access Keys </a>.</p>
                                        <div data-mc-conditions="Primary.NOTinBHOOF">
                                            <h2>Register a new <span class="mc-variable ALVariables.Azure variable">Azure</span> web application</h2>
                                            <p>Any application that you want to use <span class="mc-variable ALVariables.Azure variable">Azure</span> Active Directory (AD) must be registered in an <span class="mc-variable ALVariables.Azure variable">Azure</span> AD tenant. This registration process involves giving <span class="mc-variable ALVariables.Azure variable">Azure</span> AD details about your application, such as the URL where it is located, the URL to send replies after a user is authenticated, and the URL that identifies the app.</p>
                                            <p style="font-weight: bold;">To register an <span class="mc-variable ALVariables.Azure variable">Azure</span> web application to collect logs:</p>
                                            <ol>
                                                <li value="1">Log in to the <span class="mc-variable ALVariables.Azure variable">Azure</span> portal.</li>
                                                <li value="2">On the left side panel, click <span style="font-weight: bold;" class="mc-variable ALVariables.Azure variable">Azure</span><b> Active Directory</b>, and then select <b>App Registrations</b>.
			 <div class="note">Do not select <b>App Registrations (Preview)</b>. </div></li>
                                                <li value="3">Click <b>+ New  application registration</b>, and then provide the following configuration parameters:<ul><li><b>Name</b>—Type a name for the new application (such as <kbd>alehubcollector</kbd>).</li><li>Select Single tenant for supported account types.</li><li>Leave the Redirect URI blank.</li></ul></li>
                                                <li value="4">Click <b>Register</b>.</li>
                                                <li value="5">On the Registered app panel, under <b>Managed application in local directory</b>, click the name of the application you created.</li>
                                                <li value="6">On the Properties panel, note the following: <ul><li>Application ID for use as the App Client ID value when you deploy the ARM template</li><li>Object ID for use as the Principal ID value when you deploy the ARM template<div class="note">This Object ID value is not the same as the Object ID value seen on the Registered App page. Use only the Object ID value seen on the Properties page.</div></li></ul></li>
                                                <li value="7">Close the Properties panel to return to the Registered app panel, which you need to set up AD security permissions.</li>
                                            </ol>
                                            <h2>Set up the required Active Directory security permissions</h2>
                                            <p><span class="mc-variable ALVariables.Azure variable">Azure</span> requires you to create a client secret that provides the AD security permissions to the Registered app you created, which allows it to collect Azure log data from <span class="mc-variable ALVariables.Event_Hubs variable">Event Hubs</span>. </p>
                                            <p style="font-weight: bold;">To create a client secret for your registered app:</p>
                                            <ol>
                                                <li value="1">On the Registered app panel, click <b>Certificates &amp; secrets</b>. </li>
                                                <li value="2">On the main panel, click <b>+ New client secret</b>.</li>
                                                <li value="3">In the <b>Description</b> field, type a key description, and then set Expires to <b>Never</b>.</li>
                                                <li value="4">Click <b>Save</b>.
</li>
                                                <li value="5">Copy and save the secret key value, which you need to use as the App Client Secret ID when you <a href="#Download" title="Download and deploy the ARM template" alt="Download and deploy the ARM template" class="MCXref xref">Download and deploy the ARM template</a>.</li>
                                            </ol>
                                            <div class="note">You cannot retrieve the key value after you close the Keys blade. If you do not copy and save the key value before you deploy the ARM template, you must create another key. </div>
                                        </div>
                                        <h2><a name="Download"></a>Download and deploy the ARM template</h2>
                                        <p>The <span class="mc-variable ALVariables.Azure variable">Azure</span> Resource Manager (ARM) is the <span class="mc-variable ALVariables.Azure variable">Azure</span> API that allows you to use JSON-formatted ARM&#160;templates to deploy resources. You can deploy the ARM template configured to create a new <span class="mc-variable ALVariables.Event_Hub variable">Event Hub</span> along with the log collector, or you can deploy the ARM&#160;template configured to subscribe the collector to an existing <span class="mc-variable ALVariables.Event_Hub variable">Event Hub</span>. </p>
                                        <h3>Deploy the custom <span class="mc-variable ALVariables.Azure variable">Azure</span> Resource Manager template for a new <span class="mc-variable ALVariables.Event_Hub variable">Event Hub</span></h3>
                                        <p><span class="mc-variable ALVariables.Company variable">Alert Logic</span> provides a custom ARM template that you must configure to allow communication between <span class="mc-variable ALVariables.Azure variable">Azure</span> and <span class="mc-variable ALVariables.Company variable">Alert Logic</span>. </p>
                                        <p><b>To deploy the ARM template:</b>
                                        </p>
                                        <ol>
                                            <li value="1">Access the <a href="https://portal.azure.com/#create/Microsoft.Template/uri/https:%2F%2Fraw.githubusercontent.com%2Falertlogic%2Fehub-collector%2Fv1%2Ftemplates%2Fehub.json" title="ARM template page" alt="ARM template page" target="_blank">ARM template page</a> in <span class="mc-variable ALVariables.Azure variable">Azure</span>.</li>
                                            <li value="2">Provide the following required template parameters:</li>
                                            <ul>
                                                <li><b>Application Name</b>—Type the name of the log source to appear in the <span class="mc-variable ALVariables.Company variable">Alert Logic</span> console.<br></br></li>
                                                <li><span style="font-weight: bold;" class="mc-variable ALVariables.Company variable">Alert Logic</span><b> Access Key ID</b>—Type the access key ID generated when you created the <span class="mc-variable ALVariables.Company variable">Alert Logic</span> access key.</li>
                                                <li><b><span class="mc-variable ALVariables.Company variable">Alert Logic</span> Secret Key</b>—Type the secret key generated when you created the <span class="mc-variable ALVariables.Company variable">Alert Logic</span> access key.</li>
                                                <li><b><span class="mc-variable ALVariables.Company variable">Alert Logic</span> API endpoint</b>—Do not change the default parameter value (<kbd>api.global-services.global.alertlogic.com</kbd>).</li>
                                                <li><span style="font-weight: bold;" class="mc-variable ALVariables.Company variable">Alert Logic</span><b> Data Residency</b>—Do not change the default parameter value (<kbd>default</kbd>).</li>
                                                <li><b><span class="mc-variable ALVariables.Event_Hub variable">Event Hub</span> Resource Group</b>—Leave parameter value blank. </li>
                                                <li><b><span class="mc-variable ALVariables.Event_Hub variable">Event Hub</span> Connection String</b>—Leave parameter value blank. </li>
                                                <li><b><span class="mc-variable ALVariables.Event_Hub variable">Event Hub</span> Namespace</b>—Leave parameter value blank. </li>
                                                <li><b><span class="mc-variable ALVariables.Event_Hub variable">Event Hub</span> Name</b>—Do not change the default parameter value (<kbd>insights-operational-logs</kbd>). </li>
                                                <li><b><span class="mc-variable ALVariables.Event_Hub variable">Event Hub</span> Consumer Group</b>—Do not change the default parameter value (<kbd>$Default</kbd>). </li>
                                                <li><span class="mc-variable ALVariables.Event_Hub variable">Event Hub</span> Filter JSON—Type the filter in JSON format (<kbd>{resultType":"Success"}</kbd>). Only messages that contain the specified property are collected. If both filter values are provided then logs are collected based on both the values. </li>
                                                <li><span class="mc-variable ALVariables.Event_Hub variable">Event Hub</span> Filter Regex—Type the filter in REGEX format ( <kbd>/*.Policy or "Policy"</kbd>). Only messages that contain the specified property are collected. If both filter values are provided then logs are collected based on both the values. </li>
                                            </ul>
                                            <li value="3">Select <b>I agree to the terms and conditions stated above</b>. </li>
                                            <li value="4">Click <b>Purchase</b>.</li>
                                        </ol>
                                        <p>The new <span class="mc-variable ALVariables.Event_Hub variable">Event Hub</span> you created with this ARM template uses the following event hub scaling parameters:</p>
                                        <ul>
                                            <li>Maximum throughput units: 20</li>
                                            <li>Auto-inflate: Enabled</li>
                                            <li>Partitions: 32</li>
                                            <li>Data retention period:&#160;7 days</li>
                                        </ul>
                                        <p>If you want to use other hub scaling parameter values, you can edit the template or contact Alert Logic for assistance.</p>
                                        <p><b>To use other hub scaling parameter values:</b>
                                        </p>
                                        <ol>
                                            <li value="1">On the <span class="mc-variable ALVariables.Azure variable">Azure</span> Custom deployment page, click <b>Edit template</b>, and then make the appropriate changes to the following lines:<ul><li><kbd>"newEhubMaxThroughputUnits": xx,</kbd></li><li><kbd>"newEhubPartitionCount": xx,</kbd></li><li><kbd>"newEhubRetentionDays": xx</kbd></li></ul></li>
                                            <li value="2">Click <b>Save</b>. </li>
                                        </ol>
                                        <div>
                                            <h3><a name="Adjust"></a>Adjust firewall rules in <span class="mc-variable ALVariables.Event_Hub variable">Event Hub</span></h3>
                                            <p>You must configure the firewall configuration for <span class="mc-variable ALVariables.Event_Hub variable">Event Hub</span> to receive messages. To adjust the firewall:</p>
                                            <ol>
                                                <li value="1">In the new <span class="mc-variable ALVariables.Event_Hub variable">Event Hub</span> you created, on the left panel, under Settings, click <b>Networking</b>.</li>
                                                <li value="2">In the <b>Firewalls and virtual networks</b> tab, in the Firewall section, select <b>Yes</b> to <b>Allow trusted Microsoft services to bypass this firewall</b>.</li>
                                                <li value="3">Click <b>Save</b>.</li>
                                            </ol>
                                        </div>
                                        <h3>Deploy the custom <span class="mc-variable ALVariables.Azure variable">Azure</span> Resource Manager template for an existing <span class="mc-variable ALVariables.Event_Hub variable">Event Hub</span></h3>
                                        <p>If you want to deploy the ARM template for an <span class="mc-variable ALVariables.Event_Hub variable">Event Hub</span> that you already configured, you must provide additional parameter values when you deploy the <span class="mc-variable ALVariables.Company variable">Alert Logic</span> custom ARM template.</p>
                                        <p><b>To deploy the ARM template:</b>
                                        </p>
                                        <ol>
                                            <li value="1">Access the <a href="https://portal.azure.com/#create/Microsoft.Template/uri/https:%2F%2Fraw.githubusercontent.com%2Falertlogic%2Fehub-collector%2Fv1%2Ftemplates%2Fehub.json" title="ARM template page" alt="ARM template page" target="_blank">ARM template page</a> in <span class="mc-variable ALVariables.Azure variable">Azure</span>.</li>
                                            <li value="2">Provide the following required template parameters:</li>
                                            <ul>
                                                <li><b>Application Name</b>—Type the name of the log source to appear in the <span class="mc-variable ALVariables.Company variable">Alert Logic</span> console.<br /></li>
                                                <li><span style="font-weight: bold;" class="mc-variable ALVariables.Company variable">Alert Logic</span><b> Access Key ID</b>—Type the access key ID generated when you created the <span class="mc-variable ALVariables.Company variable">Alert Logic</span> access key.</li>
                                                <li><b><span class="mc-variable ALVariables.Company variable">Alert Logic</span> Secret Key</b>—Type the secret key generated when you created the <span class="mc-variable ALVariables.Company variable">Alert Logic</span> access key.</li>
                                                <li><b><span class="mc-variable ALVariables.Company variable">Alert Logic</span> API endpoint</b>—Do not change the default parameter value (<kbd>api.global-services.global.alertlogic.com</kbd>).</li>
                                                <li><span style="font-weight: bold;" class="mc-variable ALVariables.Company variable">Alert Logic</span><b> Data Residency</b>—Do not change the default parameter value (<kbd>default</kbd>).</li>
                                                <li><b><span class="mc-variable ALVariables.Event_Hub variable">Event Hub</span> Resource Group</b>—Type the resource group for the existing <span class="mc-variable ALVariables.Event_Hub variable">Event Hub</span>.</li>
                                                <li><b><span class="mc-variable ALVariables.Event_Hub variable">Event Hub</span> Connection String</b>—Type the connection string for the existing <span class="mc-variable ALVariables.Event_Hub variable">Event Hub</span>. </li>
                                                <div class="note">For information about using <span class="mc-variable ALVariables.Azure variable">Azure</span> PowerShell and <span class="mc-variable ALVariables.Azure variable">Azure</span> CLI to get the connection string, see the Microsoft document, <a href="https://docs.microsoft.com/en-us/azure/event-hubs/event-hubs-get-connection-string" target="_blank" title="Get an Event Hubs connection string" alt="Get an Event Hubs connection string">Get an Event Hubs connection string</a>. </div>
                                            </ul>
                                        </ol>
                                        <ol data-mc-continue="true">
                                            <ul>
                                                <li><b><span class="mc-variable ALVariables.Event_Hub variable">Event Hub</span> Namespace</b>—Type the namespace for the existing <span class="mc-variable ALVariables.Event_Hub variable">Event Hub</span>.</li>
                                                <li><b><span class="mc-variable ALVariables.Event_Hub variable">Event Hub</span> Name</b>—Type the name of the existing <span class="mc-variable ALVariables.Event_Hub variable">Event Hub</span>.</li>
                                                <li><b><span class="mc-variable ALVariables.Event_Hub variable">Event Hub</span> Consumer Group</b>—Type the name of the consumer group of the existing <span class="mc-variable ALVariables.Event_Hub variable">Event Hub</span>. 
                
                    <div class="note">If the <span class="mc-variable ALVariables.Event_Hub variable">Event Hub</span> has other consumers, create a separate consumer group for the <span class="mc-variable ALVariables.Company variable">Alert Logic</span> collector and use that name here. For more information, see the Microsoft document, <a href="https://docs.microsoft.com/en-us/azure/event-hubs/event-hubs-features#consumer-groups" target="_blank" title="Microsoft Azure Consumer Groups" alt="Microsoft Azure Consumer Groups">Consumer Groups</a>. </div></li>
                                            </ul>
                                            <li value="3">Select <b>I agree to the terms and conditions stated above</b>.</li>
                                            <li value="4">Click <b>Purchase</b>.</li>
                                        </ol>
                                        <p>You ensure the firewall is configured for <span class="mc-variable ALVariables.Event_Hub variable">Event Hub</span> to receive messages. To adjust the firewall, see <a href="#Adjust" class="MCXref xref">Adjust firewall rules in Event Hub</a>.</p>
                                        <h3>Verify the deployment</h3>
                                        <p>After you deploy the template, <span class="mc-variable ALVariables.Company variable">Alert Logic</span> recommends you perform the following steps to verify the template deployed successfully: </p>
                                        <ol>
                                            <li value="1">In the <span class="mc-variable ALVariables.ALUI variable">Alert Logic console</span>, select the <span class="mc-variable ALVariables.Azure variable">Azure</span> deployment for the <span class="mc-variable ALVariables.Azure variable">Azure</span> subscription where you deployed this log collector.</li>
                                            <li value="2">Click <b>CONFIGURE LOG SOURCES</b>, and then filter the list by <b>Push (Office 365, EventHub)</b>  collection method.</li>
                                            <li value="3">Verify that the new <span class="mc-variable ALVariables.Event_Hubs variable">Event Hubs</span> log source with the name you provided during deployment appears with the source status of "OK."</li>
                                        </ol>
                                        <p>If the <span class="mc-variable ALVariables.Event_Hub variable">Event Hub</span> log source does not appear, you can:</p>
                                        <ul>
                                            <li>Wait approximately 30 minutes, and see if the new <span class="mc-variable ALVariables.Event_Hub variable">Event Hub</span> log source appears.</li>
                                            <li>Remove the <span class="mc-variable ALVariables.Azure variable">Azure</span> resource group that contains the log source, and deploy the ARM template again.</li>
                                            <li>Contact <span class="mc-variable ALVariables.Company variable">Alert Logic</span> <span class="mc-variable ALVariables.Tech_Support variable">Technical Support</span> at:<ul><li>US: <span class="mc-variable ALVariables.US_support_number variable">(877) 484-8383</span> (Option 1)</li><li>UK: <span class="mc-variable ALVariables.UK_support_sales_number variable">+44 (0) 203 011 5533</span> (Option 1)</li></ul></li>
                                        </ul>
                                        <h2>Integrate with <span class="mc-variable ALVariables.Azure variable">Azure</span> <span class="mc-variable ALVariables.Event_Hubs variable">Event Hubs</span></h2>
                                        <p>The following links contain instructions to help you integrate different <span class="mc-variable ALVariables.Azure variable">Azure</span> services with <span class="mc-variable ALVariables.Event_Hubs variable">Event Hubs</span>. </p>
                                        <ul>
                                            <li><a href="https://docs.microsoft.com/en-us/azure/active-directory/reports-monitoring/tutorial-azure-monitor-stream-logs-to-event-hub#stream-logs-to-an-event-hub" target="_blank">Azure Active Directory Logs</a>
                                            </li>
                                            <li><a href="https://docs.microsoft.com/en-us/azure/azure-monitor/platform/diagnostic-logs-stream-event-hubs#stream-diagnostic-logs-using-the-portal" target="_blank">Azure Diagnostic Logs</a>
                                            </li>
                                            <li><a href="https://docs.microsoft.com/en-us/azure/azure-monitor/platform/activity-logs-stream-event-hubs#enable-streaming-of-the-activity-log" target="_blank">Azure Activity Logs</a>
                                            </li>
                                            <li><a href="https://docs.microsoft.com/en-us/azure/security-center/security-center-partner-integration#exporting-data-to-a-siem" target="_blank">Azure Security Center Events</a>
                                            </li>
                                            <li><a href="https://docs.microsoft.com/en-us/azure/sql-database/sql-database-auditing#subheading-2" target="_blank">Azure SQL Audit Logs</a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>