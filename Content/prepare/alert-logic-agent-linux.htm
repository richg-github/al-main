<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="bhoofNormal _Skins_HTML5___Side_Navigation_Skin" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../" data-mc-has-content-body="True" data-mc-toc-path="Prepare|Agents" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta name="zd-site-verification" content="9muqcovj07pyvoduai2al" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../../Skins/Favicons/browserconfig.xml" />
        <meta name="description" content="The Linux agent allows for data collection for analysis. Learn to download the agent, and then deploy it to each host you want to monitor and collect log messages." />
        <meta name="flareArticleId" content="f55f62b6-c711-4aef-a019-a106154804a0" />
        <link rel="apple-touch-icon" sizes="1545x1545" href="../../Skins/Favicons/AlertLogic_Logo_2C_RGB_V_Standard.png" />
        <link rel="shortcut icon" href="../../Skins/Favicons/favicon.png" />
        <link rel="icon" sizes="96x96" href="../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../Skins/Favicons/favicon-16x16.png" /><title>Install the Alert Logic Agent for Linux</title>
        <meta http-equiv="Cache-control" content="no-cache" />
        <link href="../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <style>@import url('https://dl.dropboxusercontent.com/s/q5nt7ghnm4mfv88/override-main.css');

</style>
        <link href="../Resources/Stylesheets/MainStyles.css" rel="stylesheet" type="text/css" />
        <style>/*&lt;meta /&gt;*/

.button.previous-topic-button
{
	-pie-background: linear-gradient(transparent, transparent);
}

.button.next-topic-button
{
	-pie-background: linear-gradient(transparent, transparent);
}

.button.separator-button
{
	-pie-background: linear-gradient(transparent, transparent);
}

.button.print-button
{
	-pie-background: linear-gradient(transparent, transparent);
}

.button.expand-all-button
{
	-pie-background: linear-gradient(transparent, transparent);
}

.button.collapse-all-button
{
	-pie-background: linear-gradient(transparent, transparent);
}

.needs-pie
{
	behavior: url('../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <link rel="apple-touch-icon" sizes="1545x1545" href="../../Skins/Favicons/AlertLogic_Logo_2C_RGB_V_Standard.png" />
        <link rel="shortcut icon" href="../../Skins/Favicons/favicon.png" />
        <link rel="icon" sizes="96x96" href="../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../Skins/Favicons/favicon-16x16.png" />
        <script src="../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-drilldown vertical menu off-canvas-list" data-drilldown="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-drilldown-submenu-parent" data-mc-css-tree-node-collapsed="is-drilldown-submenu-parent" data-mc-css-sub-menu="vertical menu slide-in-right is-drilldown-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.drilldown" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" role="banner" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1279px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../home.htm" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <div class="buttons popup-container clearfix topicToolbarProxy _Skins_Toolbar mc-component nocontent" style="mc-topic-toolbar-items: ;">
                                        <div class="button-group-container-left">
                                            <button class="button needs-pie previous-topic-button" title="Navigate previous" disabled="true">
                                                <div>
                                                    <div role="img" class="button-icon-wrapper" aria-label="Navigate previous">
                                                        <div class="button-icon"> </div>
                                                    </div>
                                                </div>
                                            </button>
                                            <button class="button needs-pie next-topic-button" title="Navigate next" disabled="true">
                                                <div>
                                                    <div role="img" class="button-icon-wrapper" aria-label="Navigate next">
                                                        <div class="button-icon"> </div>
                                                    </div>
                                                </div>
                                            </button>
                                            <div class="button-separator">
                                            </div>
                                            <button class="button needs-pie print-button" title="Print">
                                                <div>
                                                    <div role="img" class="button-icon-wrapper" aria-label="Print">
                                                        <div class="button-icon"> </div>
                                                    </div>
                                                </div>
                                            </button>
                                            <button class="button needs-pie expand-all-button" data-state1-class="expand-all-button" data-state2-class="collapse-all-button" data-state2-title="Collapse all" title="Expand all" data-state1-title="Expand all">
                                                <div>
                                                    <div role="img" class="button-icon-wrapper" aria-label="Expand all">
                                                        <div class="button-icon"> </div>
                                                    </div>
                                                </div>
                                            </button>
                                        </div>
                                    </div>
                                    <div class="nocontent">
                                        <div class="MCBreadcrumbsBox_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
                                        </div>
                                    </div>
                                    <div role="main" id="mc-main-content">
                                        <h1><a name="installLinuxAgent"></a>Install the <span class="mc-variable ALVariables.Company variable">Alert Logic</span> Agent for Linux</h1>
                                        <p><span class="mc-variable ALVariables.Company variable">Alert Logic</span> provides an agent that gathers data that <span class="mc-variable ALVariables.Company variable">Alert Logic</span> must collect for analysis, such as log messages and network traffic, as well as metadata and host identification information. You must download the agent, and then deploy it to each host you want to monitor, or collect log messages. <span class="mc-variable ALVariables.Company variable">Alert Logic</span> provides agents for Windows and Linux hosts. For more information, see <a href="../requirements/agent.htm#reqsAgent" class="MCXref xref">Requirements for the Alert Logic Agent</a>. </p>
                                        <div class="note" data-mc-conditions="Primary.includeDev,SnippetConditions.ExcludedText">If you have <span class="mc-variable ALVariables.AWS_1 variable">Amazon Web Services (AWS)</span> Systems Manager managed instances, you can use <a href="https://docs.aws.amazon.com/systems-manager/latest/userguide/distributor.html"><span class="mc-variable ALVariables.AWS variable">AWS</span> Systems Manager Distributor</a>     to install the  <span class="mc-variable ALVariables.AgentName variable">Alert Logic agent</span> on the instances instead of installing the agent on each host manually. For more information, see <a href="agent-install-automated-aws.htm" class="MCXref xref">Automate Alert Logic Agent Installation with AWS Systems Manager Distributor</a>. </div>
                                        <div class="note" data-mc-conditions="Primary.Draft Content">
                                            <p style="font-weight: normal;">If you have an active <span class="mc-variable ALVariables.autoAssignNote variable">IAM or RBAC role (for AWS or Azure, respectively)</span>, and configured agents to automatically update, the agent you install automatically assigns itself to the local appliance and you need not enter the Unique Registration Key.</p>
                                        </div>
                                        <h2><a name="downloadAgent"></a>Download the agent</h2>
                                        <p>Linux users can select either Debian-based agent installers or RPM-based installers. Both installers are available in a 32-bit or 64-bit format. To download the <span class="mc-variable ALVariables.Company variable">Alert Logic</span> agent for Linux, click the agent installer link for the agent you want to install:</p>
                                        <table>
                                            <col />
                                            <col />
                                            <col />
                                            <thead>
                                                <tr>
                                                    <th>Agent Installer</th>
                                                    <th>Processor </th>
                                                    <th>Link</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>Debian</td>
                                                    <td>32-bit</td>
                                                    <td><a href="https://scc.alertlogic.net/software/al-agent_LATEST_i386.deb" title="Latest Linux Agent Installer (32-bit Debian format)" alt="Latest Linux Agent Installer (32-bit Debian format)">Latest Linux Agent Installer (32-bit Debian format)</a>
                                                    </td>
                                                </tr>
                                                <tr class="TableStyle-al_tablestyle-Body-Body1">
                                                    <td>Debian</td>
                                                    <td>64-bit</td>
                                                    <td><a href="https://scc.alertlogic.net/software/al-agent_LATEST_amd64.deb" title="Latest Linux Agent Installer (64-bit Debian format)" alt="Latest Linux Agent Installer (64-bit Debian format)">Latest Linux Agent Installer (64-bit Debian format)</a>
                                                    </td>
                                                </tr>
                                                <tr class="TableStyle-al_tablestyle-Body-Body1">
                                                    <td>Debian</td>
                                                    <td>64-bit ARM</td>
                                                    <td><a href="https://scc.alertlogic.net/software/al-agent_LATEST_arm64.deb" title="Latest Linux Agent Installer (64-bit ARM Debian format)" alt="Latest Linux Agent Installer (64-bit ARM Debian format)">Latest Linux Agent Installer (64-bit ARM Debian format)</a>
                                                    </td>
                                                </tr>
                                                <tr class="TableStyle-al_tablestyle-Body-Body1">
                                                    <td>RPM</td>
                                                    <td>32-bit</td>
                                                    <td><a href="https://scc.alertlogic.net/software/al-agent-LATEST-1.i386.rpm" title="Latest Linux Agent Installer (32-bit RPM format)" alt="Latest Linux Agent Installer (32-bit RPM format)">Latest Linux Agent Installer (32-bit RPM format)</a>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>RPM</td>
                                                    <td>64-bit</td>
                                                    <td><a href="https://scc.alertlogic.net/software/al-agent-LATEST-1.x86_64.rpm" title="Latest Linux Agent Installer (64-bit RPM format)" alt="Latest Linux Agent Installer (64-bit RPM format)">Latest Linux Agent Installer (64-bit RPM format)</a>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>RPM</td>
                                                    <td>64-bit ARM</td>
                                                    <td><a href="https://scc.alertlogic.net/software/al-agent-LATEST-1.aarch64.rpm" title="Latest Linux Agent Installer (64-bit ARM RPM format)" alt="Latest Linux Agent Installer (64-bit ARM RPM format)">Latest Linux Agent Installer (64-bit ARM RPM format)</a>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                        <h2><a name="installAgent"></a>Install the agent</h2>
                                        <p><span class="mc-variable ALVariables.Company variable">Alert Logic</span> gives you the option to install the agent with image capture. <span class="mc-variable ALVariables.Company variable">Alert Logic</span> recommends image capture only when you want to install the agent for the purpose of creating a system image to be used by more than one host in the future. The process of installing for image capture installs the agent but does not assign the host an identity. After you download the agent installer, follow the appropriate procedure below.</p>
                                        <div class="note">If you have previously installed an older Linux version of an <span class="mc-variable ALVariables.Company variable">Alert Logic</span> agent, you must uninstall that version before you install the current agent image. For more information, see <a href="alert-logic-agent-linux-uninstall.htm" class="MCXref xref">Uninstall the Alert Logic Agent for Linux</a>.</div>
                                        <h3><b>Install the agent </b>
                                        </h3>
                                        <p style="font-weight: bold;">To install the agent:</p>
                                        <ol>
                                            <li value="1">Copy package to the target machine.</li>
                                            <li value="2">If you run SELinux, you must first run the following command: <br /><kbd>semanage port -a -t syslogd_port_t -p tcp 1514</kbd><div class="level1"><div class="note"><p>If the <kbd>semanage</kbd> command is not present in your system, you can install the policycoreutils-python package to obtain the <kbd>semanage</kbd> command. <span class="mc-variable ALVariables.Company variable">Alert Logic</span> recommends that you consult with your system administrator to verify.            </p></div></div></li>
                                            <li value="3">Run one of the following commands, based on your distribution:<ul data-mc-continue="true"><li><b>RPM</b>: <kbd>rpm -U al-agent-&lt;version&gt;*.rpm</kbd></li><li><b>Debian</b>: <kbd>dpkg -i al-agent-&lt;version&gt;*.deb </kbd></li><li data-mc-conditions="Primary.Draft Content"><b>Debian</b>: dpkg -i al-agent-&lt;version&gt;*.deb</li></ul></li>
                                            <li value="4" data-mc-conditions="Primary.Draft Content">(Optional) If you have set up a NAT, virtual appliance, or physical appliance and you want to specify it as a single point of egress for agents to use, run the following command: <br /><kbd>/etc/init.d/al-agent configure --host </kbd><MadCap:conditionalText data-mc-conditions="Primary.excludeDevInBhoof"><kbd>&lt;LOGMANAGERAPPLIANCEIP&gt;</kbd></MadCap:conditionalText><MadCap:conditionalText data-mc-conditions="Primary.beta"><kbd>&lt;ALAPPLIANCEIP&gt;</kbd></MadCap:conditionalText></li>
                                            <li value="5">(Optional) If you have set up a proxy, and you want to specify the proxy  as a single point of egress for agents to use, then run the following command: <kbd>/etc/init.d/al-agent configure --proxy &lt;PROXYIP/PROXYHOST&gt;</kbd> <br />A TCP or HTTP proxy may be used in this configuration.</li>
                                            <li value="6" data-mc-conditions="Primary.Draft Content">(Optional) For customers who use single point of egress to pass all Internet connectivity of the agent through the <span class="mc-variable ALVariables.Company variable">Alert Logic</span> appliance, run the following command:<br /><kbd>/etc/init.d/al-agent configure --host &lt;HOSTIP/APPLIANCEIP&gt;</kbd><br /></li>
                                            <li value="7">For Data Center deployments only, run the following command: <kbd>/etc/init.d/al-agent provision --key &lt;UNIQUEREGISTRATIONKEY&gt;</kbd></li>
                                            <div class="note">If you have Data Center deployments, <span class="mc-variable ALVariables.Company variable">Alert Logic</span> uses the Unique Registration Key to specify where the <span class="mc-variable ALVariables.Agent/Remote_Collector variable">agent</span> is located. <p style="font-weight: bold;">To access your Unique Registration Key:</p><ol><li style="font-weight: normal;" value="1">In the <span class="mc-variable ALVariables.ALUI_1 variable">Alert Logic console</span>, open the relevant data center deployment.</li><li style="font-weight: normal;" value="2">Under <b>Configuration Overview</b>, click <b>Installation Instructions</b>. </li><li style="font-weight: normal;" value="3">Copy your Unique Registration Key. </li></ol></div>
                                            <li value="8">For image capture on physical machines only, run the following command:&#160;<kbd>/etc/init.d/al-agent start</kbd></li>
                                            <li value="9">Do one of the following:
				<ul><li><div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../../Skins/Default/Stylesheets/Images/transparent.gif" height="16" width="18" alt="Closed" data-mc-alt2="Open" />If you use an rsyslog daemon </a></span><div class="MCDropDownBody dropDownBody"><p>add the following line to rsyslog.conf:<br></br><kbd>*.* @@127.0.0.1:1514;RSYSLOG_FileFormat</kbd></p><div class="level1"><div class="note"><p>This configuration directs your local syslog to the agent on TCP port 1514.            </p></div></div></div></div></li><li><div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../../Skins/Default/Stylesheets/Images/transparent.gif" height="16" width="18" alt="Closed" data-mc-alt2="Open" />If you use a syslog-ng daemon </a></span><div class="MCDropDownBody dropDownBody"><p>add the following lines to syslog-ng.conf:</p><ul><li><kbd>destination d_alertlogic {tcp("localhost" port(1514));};</kbd></li><li><kbd>log { source(s_sys); destination(d_alertlogic); };</kbd></li></ul><div class="level1"><div class="note"><p>This configuration directs your local syslog to the agent on TCP port 1514.            </p></div></div></div></div></li></ul></li>
                                            <li value="10">Restart the syslog daemon.</li>
                                            <li value="11">Verify that the agent has registered with the <span class="mc-variable ALVariables.ALUI variable">Alert Logic console</span>.</li>
                                        </ol>
                                        <div class="note">
                                            <p>Agent registration can take several minutes.</p>
                                        </div>
                                        <h3><a name="installAgentWithImageCaptureHostMode"></a>Install the agent with image capture </h3>
                                        <p><b>To install the agent with image capture:</b>
                                        </p>
                                        <ol>
                                            <li value="1">Copy the package to the target machine.</li>
                                            <li value="2">If you run SELinux, you must first run the following command: <br></br><kbd>semanage port -a -t syslogd_port_t -p tcp 1514</kbd><div class="note"><p>If the <kbd>semanage</kbd> command is not present in your system, you can install the policycoreutils-python package to obtain the <kbd>semanage</kbd> command. <span class="mc-variable ALVariables.Company variable">Alert Logic</span> recommends that you consult with your system administrator to verify.            </p></div></li>
                                            <li value="3">Run one of the following commands, based on your distribution:
				<ul><li><b>RPM</b>: <kbd>rpm -U al-agent-&lt;version&gt;*.rpm</kbd></li><li><b>Debian</b>: <kbd>dpkg -i al-agent-&lt;version&gt;*.deb</kbd></li></ul></li>
                                            <li value="4">For Data Center deployments only, run the following command: <kbd>/etc/init.d/al-agent configure --key &lt;UNIQUEREGISTRATIONKEY&gt;</kbd></li>
                                            <div class="note">If you have Data Center deployments, <span class="mc-variable ALVariables.Company variable">Alert Logic</span> uses the Unique Registration Key to specify where the <span class="mc-variable ALVariables.Agent/Remote_Collector variable">agent</span> is located. <p style="font-weight: bold;">To access your Unique Registration Key:</p><ol><li style="font-weight: normal;" value="1">In the <span class="mc-variable ALVariables.ALUI_1 variable">Alert Logic console</span>, open the relevant data center deployment.</li><li style="font-weight: normal;" value="2">Under <b>Configuration Overview</b>, click <b>Installation Instructions</b>. </li><li style="font-weight: normal;" value="3">Copy your Unique Registration Key. </li></ol></div>
                                            <li value="5">Do one of the following:
				<ul><li><div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../../Skins/Default/Stylesheets/Images/transparent.gif" height="16" width="18" alt="Closed" data-mc-alt2="Open" />If you use an rsyslog daemon </a></span><div class="MCDropDownBody dropDownBody"><p>add the following line to rsyslog.conf:<br /><kbd>*.* @@127.0.0.1:1514;RSYSLOG_FileFormat</kbd></p><br /><div class="note"><p>This configuration directs your local syslog to the agent on TCP port 1514.            </p></div></div></div></li><li><div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../../Skins/Default/Stylesheets/Images/transparent.gif" height="16" width="18" alt="Closed" data-mc-alt2="Open" />If you use a syslog-ng daemon </a></span><div class="MCDropDownBody dropDownBody"><p>add the following lines to syslog-ng.conf:</p><br /><kbd>destination d_alertlogic {tcp("localhost" port(1514));};</kbd><br /><kbd>log { source(s_sys); destination(d_alertlogic); };</kbd><br /><div class="note"><p>This configuration directs your local syslog to the agent on TCP port 1514.            </p></div></div></div></li></ul></li>
                                            <li value="6">Restart the syslog daemon.</li>
                                            <li value="7">Shut down the target machine and save your operating system image.
                <div class="caution"><p>Do not start the agent or reboot the image before capturing the image of your virtual machine.</p><p> If you start the agent or reboot the image before capturing the image on your virtual machine, the agent reaches out to the <span class="mc-variable ALVariables.Company variable">Alert Logic</span> backend to be claimed.  Once claimed, the agent host identity is fixed and will be copied to any new instances spun up with this image.  To validate that claiming has not occurred (and ensure that you avoid this problem), go to the <span class="mc-variable ALVariables.ALUI variable">Alert Logic console</span> and ensure the agent is not present before cloning the image.</p></div></li>
                                            <li value="8">(Optional) Start an instance of the saved image and verify that the agent has registered with the <span class="mc-variable ALVariables.ALUI variable">Alert Logic console</span>.<br />If you need to edit your OS image at any point, you must ensure when saving that the Alert Logic agent is *not* registered. You can accomplish this by stopping the agent with:<br /><kbd>/etc/init.d/al-agent stop</kbd><br />Then, if it is present, remove the files:<br /><kbd>/var/alertlogic/etc/host_crt.pem</kbd><br /><kbd>/var/alertlogic/etc/host_key.pem</kbd><br /> prior to shutting down and saving the resulting image.<br /></li>
                                        </ol>
                                        <div class="note">
                                            <p>Agent registration can take several minutes.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>