<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_HTML5___Side_Navigation_Skin" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../../" data-mc-has-content-body="True" data-mc-searchable="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta name="zd-site-verification" content="9muqcovj07pyvoduai2al" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../../../../Skins/Favicons/browserconfig.xml" />
        <meta name="description" content="Learn how to create an automated AWS WAF IP Set:  Block External IP Address simple response." />
        <link rel="apple-touch-icon" sizes="1545x1545" href="../../../../Skins/Favicons/AlertLogic_Logo_2C_RGB_V_Standard.png" />
        <link rel="shortcut icon" href="../../../../Skins/Favicons/favicon.png" />
        <link rel="icon" sizes="96x96" href="../../../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../../Skins/Favicons/favicon-16x16.png" /><title>Configure Simple Response for AWS WAF IP Set: Block External IP Address</title>
        <meta http-equiv="Cache-control" content="no-cache" />
        <link href="../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <style>@import url('https://dl.dropboxusercontent.com/s/q5nt7ghnm4mfv88/override-main.css');

</style>
        <link href="../../../Resources/Stylesheets/MainStyles.css" rel="stylesheet" type="text/css" />
        <style>/*&lt;meta /&gt;*/

.button.previous-topic-button
{
	-pie-background: linear-gradient(transparent, transparent);
}

.button.next-topic-button
{
	-pie-background: linear-gradient(transparent, transparent);
}

.button.separator-button
{
	-pie-background: linear-gradient(transparent, transparent);
}

.button.print-button
{
	-pie-background: linear-gradient(transparent, transparent);
}

.button.expand-all-button
{
	-pie-background: linear-gradient(transparent, transparent);
}

.button.collapse-all-button
{
	-pie-background: linear-gradient(transparent, transparent);
}

.needs-pie
{
	behavior: url('../../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <link rel="apple-touch-icon" sizes="1545x1545" href="../../../../Skins/Favicons/AlertLogic_Logo_2C_RGB_V_Standard.png" />
        <link rel="shortcut icon" href="../../../../Skins/Favicons/favicon.png" />
        <link rel="icon" sizes="96x96" href="../../../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../../Skins/Favicons/favicon-16x16.png" />
        <script src="../../../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-drilldown vertical menu off-canvas-list" data-drilldown="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-drilldown-submenu-parent" data-mc-css-tree-node-collapsed="is-drilldown-submenu-parent" data-mc-css-sub-menu="vertical menu slide-in-right is-drilldown-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.drilldown" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" role="banner" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1279px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../../../home.htm" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <div class="buttons popup-container clearfix topicToolbarProxy _Skins_Toolbar mc-component nocontent" style="mc-topic-toolbar-items: ;">
                                        <div class="button-group-container-left">
                                            <button class="button needs-pie previous-topic-button" title="Navigate previous" disabled="true">
                                                <div>
                                                    <div role="img" class="button-icon-wrapper" aria-label="Navigate previous">
                                                        <div class="button-icon"> </div>
                                                    </div>
                                                </div>
                                            </button>
                                            <button class="button needs-pie next-topic-button" title="Navigate next" disabled="true">
                                                <div>
                                                    <div role="img" class="button-icon-wrapper" aria-label="Navigate next">
                                                        <div class="button-icon"> </div>
                                                    </div>
                                                </div>
                                            </button>
                                            <div class="button-separator">
                                            </div>
                                            <button class="button needs-pie print-button" title="Print">
                                                <div>
                                                    <div role="img" class="button-icon-wrapper" aria-label="Print">
                                                        <div class="button-icon"> </div>
                                                    </div>
                                                </div>
                                            </button>
                                            <button class="button needs-pie expand-all-button" data-state1-class="expand-all-button" data-state2-class="collapse-all-button" data-state2-title="Collapse all" title="Expand all" data-state1-title="Expand all">
                                                <div>
                                                    <div role="img" class="button-icon-wrapper" aria-label="Expand all">
                                                        <div class="button-icon"> </div>
                                                    </div>
                                                </div>
                                            </button>
                                        </div>
                                    </div>
                                    <div role="main" id="mc-main-content">
                                        <h1>Configure Simple Response for <span class="mc-variable ALVariables.AWS variable">AWS</span> WAF IP Set: Block External IP Address</h1>
                                        <p>Configure an <span class="mc-variable ALVariables.AWS variable">AWS</span> WAF IP Set: Block External IP Address simple response to add the attacker in an incident to an <span class="mc-variable ALVariables.AWS_1 variable">Amazon Web Services (AWS)</span> <span class="mc-variable ALVariables.WAF_2 variable">WAF</span> IP&#160;set.</p>
                                        <p>A typical use case for this  response is to reduce opportunities for an identified attacker to probe your network further.</p>
                                        <p>Complete the following steps to successfully configure this simple response:</p>
                                        <ol>
                                            <li value="1"><a href="#OptionalCreateanexclusionlist" class="MCXref xref">(Optional) Create an exclusion list</a>
                                            </li>
                                            <li value="2"><a href="#Choosetheresponse" class="MCXref xref">Choose the response</a>
                                            </li>
                                            <li value="3"><a href="#ConnecttoAWS" class="MCXref xref">Connect to AWS</a>
                                            </li>
                                            <li value="4"><a href="#OptionalApplyexclusions" class="MCXref xref">(Optional) Apply exclusions</a>
                                            </li>
                                            <li value="5"><a href="#Choosewhentorespond" class="MCXref xref"> Choose when to respond</a>
                                            </li>
                                        </ol>
                                        <h2>(Optional) Create an exclusion list<a name="OptionalCreateanexclusionlist"></a></h2>
                                        <p> If you want your automation to exclude specific <span class="mc-variable ALVariables.response_exclusion variable">IP&#160;addresses</span>, the <span class="mc-variable ALVariables.response_exclusion variable">IP&#160;addresses</span> must be defined in one or more exclusion lists.  <span class="mc-variable ALVariables.response_exclusion_example variable">For example, you can create lists of IP addresses for services such as public addresses of your data centers, VPN endpoints, and external scanners.</span> During the simple response creation process, a step is available to apply exclusion lists to your automation. If a list you want to apply does not exist already, use the instructions in <a href="exclusions.htm" class="MCXref xref" data-mc-variable-override="">Exclusions</a> to create it now.</p>
                                        <h2>Choose the response<a name="Choosetheresponse"></a></h2>
                                        <p>In the <span class="mc-variable ALVariables.ALUI_1 variable">Alert Logic console</span>, click the navigation menu icon (<img src="../../../Resources/Images/dashboard/menu-icon.png" style="vertical-align: bottom;" />), click <img src="../../../Resources/Images/dashboard/respond-icon.png" style="vertical-align: bottom;" /><b>Respond</b>, click <b>Automated Response</b>, and then click <b>Simple Responses</b>. Click the add icon (<img src="../../../Resources/Images/Icons/cdAddPlus.png" style="vertical-align: text-bottom;" />),  and then, under <span style="font-weight: bold;" class="mc-variable ALVariables.AWS variable">AWS</span> <b> WAF IP Set: Block External IP Address</b>, click <b>START</b>.</p>
                                        <h2>Connect to <span class="mc-variable ALVariables.AWS variable">AWS</span><a name="ConnecttoAWS"></a></h2>
                                        <p>This response requires an <span class="mc-variable ALVariables.AWS variable">AWS</span> IAM Role connection  that grants <span class="mc-variable ALVariables.Company variable">Alert Logic</span> access to update an <span class="mc-variable ALVariables.AWS variable">AWS</span> <span class="mc-variable ALVariables.WAF_2 variable">WAF</span> IP set. In the Connect step, name your response and connect to <span class="mc-variable ALVariables.AWS variable">AWS</span> as follows.</p>
                                        <p><b>To connect to <span class="mc-variable ALVariables.AWS variable">AWS</span>:</b>
                                        </p>
                                        <ol>
                                            <li value="1">In <b>Response Name</b>, enter a descriptive name for your simple response (example: "Block Attacker IP Address").</li>
                                            <li value="2">If you already have an <span class="mc-variable ALVariables.AWS variable">AWS</span> IAM Role connection that grants <span class="mc-variable ALVariables.Company variable">Alert Logic</span> permission to perform this response, leave <b>Use an existing connection</b> selected, and then select the connection in <MadCap:conditionalText data-mc-conditions="Primary.Draft Content"><b><span class="mc-variable ALVariables.AWS variable">AWS</span> IAM Role </b></MadCap:conditionalText><b>Connection</b>. You can use the search bar to help you find the connection.</li>
                                            <li value="3">If you do not have an <span class="mc-variable ALVariables.AWS variable">AWS</span> IAM Role connection that grants <span class="mc-variable ALVariables.Company variable">Alert Logic</span> permission to perform this response, click <b>Create a connection</b>, and then complete the instructions in <a href="#CreateanAWSIAMRoleconnection" class="MCXref xref">Create an AWS IAM Role connection</a> to set it up.</li>
                                            <li value="4">In <b>IPv4 IPSet ARN</b>, enter the ARN of the <span class="mc-variable ALVariables.AWS variable">AWS</span> <span class="mc-variable ALVariables.WAF_2 variable">WAF</span> IPv4 IP set to which you want <span class="mc-variable ALVariables.Company variable">Alert Logic</span>to add IP&#160;addresses for blocking. For more information, see <a href="#LocatetheARNoftheAWSWAFIPset" class="MCXref xref">Locate the ARN of the AWS WAF IP set</a>.</li>
                                            <li value="5">In <b>IP Set Scope</b>, select the scope of this IP set as shown in the <span class="mc-variable ALVariables.AWS variable">AWS</span> console:<ul><li><b>REGIONAL</b>—Regional application</li><li><b>CLOUDFRONT</b>—Amazon CloudFront distribution</li></ul></li>
                                            <li value="6">In <b>Block Expiration in Seconds</b>, enter the number of seconds before you want <span class="mc-variable ALVariables.Company variable">Alert Logic</span> to deactivate the block, or keep the default value: 604800.</li>
                                            <li value="7">Click <b>TEST</b> to perform a dry run that checks the configuration without performing the response. After a few moments, results appear in a message.<ul><li>If the result is Succeeded, continue to the next step in this procedure.</li><li>If the result is Failed, use the listed errors to assist with troubleshooting. If necessary, you can click <b>Edit connection</b> above <span style="font-weight: bold;" class="mc-variable ALVariables.AWS variable">AWS</span><b> IAM Role Connection</b>, and then use the information in <a href="#CreateanAWSIAMRoleconnection" class="MCXref xref">Create an AWS IAM Role connection</a> to check and fix the connection.<MadCap:conditionalText data-mc-conditions="Primary.Draft Content"> For further assistance with troubleshooting, see <a href="#Troubleshootingtips" class="MCXref xref">Troubleshooting tips</a>.</MadCap:conditionalText></li></ul></li>
                                            <li value="8">If you want the simple response to be active, leave  <b>Response is active</b> turned on. Turn it off if you want to save the configuration but not activate the response yet.</li>
                                            <li value="9">Click <b>NEXT</b> to continue to the <a href="#OptionalApplyexclusions" class="MCXref xref">(Optional) Apply exclusions</a> step.</li>
                                        </ol>
                                        <h3>Create an <span class="mc-variable ALVariables.AWS variable">AWS</span> IAM Role connection<a name="CreateanAWSIAMRoleconnection"></a></h3>
                                        <p>An <span class="mc-variable ALVariables.AWS variable">AWS</span> IAM Role connection securely stores reusable credential information for integrations with <span class="mc-variable ALVariables.AWS_1 variable">Amazon Web Services (AWS)</span>. To create the connection, <span class="mc-variable ALVariables.Company variable">Alert Logic</span> requires the ARN for the <span class="mc-variable ALVariables.AWS variable">AWS</span> IAM role  that grants  access to update an <span class="mc-variable ALVariables.AWS variable">AWS</span> <span class="mc-variable ALVariables.WAF_2 variable">WAF</span> IP set.</p>
                                        <p><span class="mc-variable ALVariables.Company variable">Alert Logic</span> provides the following steps to help you create the connection.   For further questions about the steps performed in the <span class="mc-variable ALVariables.AWS variable">AWS</span> console, or if your interface looks different, contact <span class="mc-variable ALVariables.AWS variable">AWS</span> support<MadCap:conditionalText data-mc-conditions="SnippetConditions.ExcludedText">, or refer to the vendor documentation listed in the technical reference section</MadCap:conditionalText>.</p>
                                        <ol>
                                            <li value="1"><a href="#CreateanIAMpolicyintheAWSconsole" class="MCXref xref">Create an IAM policy in the AWS console</a>
                                            </li>
                                            <li value="2"><a href="#CreateanIAMroleintheAWSconsole" class="MCXref xref">Create an IAM role in the AWS console</a>
                                            </li>
                                            <li value="3"><a href="#CreatetheconnectionintheAlertLogicconsole" class="MCXref xref">Create  the connection in the Alert Logic console</a>
                                            </li>
                                        </ol>
                                        <h4>Create an IAM policy in the <span class="mc-variable ALVariables.AWS variable">AWS</span> console<a name="CreateanIAMpolicyintheAWSconsole"></a></h4>
                                        <p>The first step in the <span class="mc-variable ALVariables.AWS variable">AWS</span> console is to create an IAM policy that grants access for <span class="mc-variable ALVariables.Company variable">Alert Logic</span> to update <span class="mc-variable ALVariables.AWS variable">AWS</span> <span class="mc-variable ALVariables.WAF_2 variable">WAF</span> IP sets.</p>
                                        <p>The policy document you use in this procedure grants access for <span class="mc-variable ALVariables.Company variable">Alert Logic</span> to perform these actions only:</p>
                                        <ul>
                                            <li>Perform policy simulation to help produce better error messages if the policy is not implemented correctly</li>
                                            <li>Add IP addresses to an <span class="mc-variable ALVariables.AWS variable">AWS</span> <span class="mc-variable ALVariables.WAF_2 variable">WAF</span> IP set</li>
                                        </ul>
                                        <p>Before you begin, ensure your setup in <span class="mc-variable ALVariables.AWS variable">AWS</span> meets  the following prerequisites for this integration:</p>
                                        <ul>
                                            <li><span class="mc-variable ALVariables.AWS variable">AWS</span> <span class="mc-variable ALVariables.WAF_2 variable">WAF</span> (v2) Web ACL configured, either regional or CloudFront</li>
                                            <li><span class="mc-variable ALVariables.AWS variable">AWS</span> <span class="mc-variable ALVariables.WAF_2 variable">WAF</span> IPv4 IP set created </li>
                                            <li><span class="mc-variable ALVariables.AWS variable">AWS</span> <span class="mc-variable ALVariables.WAF_2 variable">WAF</span> rule associating the IP set with the Web ACL</li>
                                        </ul>
                                        <p><b>To create an IAM policy to update <span class="mc-variable ALVariables.AWS variable">AWS</span> <span class="mc-variable ALVariables.WAF_2 variable">WAF</span> IP sets:</b>
                                        </p>
                                        <ol>
                                            <li value="1">In your <span class="mc-variable ALVariables.AWS variable">AWS</span> account where you want <span class="mc-variable ALVariables.Company variable">Alert Logic</span> to run automated responses, go to <a href="https://console.aws.amazon.com/iamv2/home?#/policies/">https://console.aws.amazon.com/iamv2/home?#/policies/</a>.</li>
                                            <li value="2">From the IAM Management Console, click <b>Create Policy</b>.</li>
                                            <li value="3">Click the <b>JSON</b> tab.</li>
                                            <li value="4">Copy the contents of the policy document <a href="../../../pdf-files/iam-policy-WAF.txt" title="Text file containing the IAM policy for updating AWS WAF IP sets" alt="Text file containing the IAM policy for updating AWS WAF IP sets">iam-policy-WAF.txt</a>  and replace the text in the policy editor.</li>
                                            <li value="5">Click <b>Next: Tags</b>.</li>
                                            <li value="6">Click <b>Next: Review</b>.</li>
                                            <li value="7">On the Review Policy page, type a <b>Policy Name</b> and optional <b>Description</b> for the policy.</li>
                                        </ol>
                                        <h4>Create an IAM role in the <span class="mc-variable ALVariables.AWS variable">AWS</span> console<a name="CreateanIAMroleintheAWSconsole"></a></h4>
                                        <p>The next step in the <span class="mc-variable ALVariables.AWS variable">AWS</span> console is to create a role that uses  the IAM policy you created.</p>
                                        <p><b>To create an IAM role in the </b><span style="font-weight: bold;" class="mc-variable ALVariables.AWS variable">AWS</span> <b> console:</b></p>
                                        <ol>
                                            <li value="1">In your <span class="mc-variable ALVariables.AWS variable">AWS</span> account where you want <span class="mc-variable ALVariables.Company variable">Alert Logic</span> to run automated responses, go to <a href="https://console.aws.amazon.com/iamv2/home#/roles/">https://console.aws.amazon.com/iamv2/home#/roles/</a>.</li>
                                            <li value="2">Click <b>Create role</b>.</li>
                                            <li value="3">On the Create role page, click <b>Another AWS Account</b>.</li>
                                            <li value="4">Enter the <b>Account ID</b>: 246648824489.</li>
                                            <li value="5">Click <b>Next: Permissions</b>.</li>
                                            <li value="6">From the list of policies, locate the previously created policy. You can use the <b>Filter Policies</b> option and select <b>Customer managed</b> to help locate the policy.</li>
                                            <li value="7">Select the check box next to the matching policy.</li>
                                            <li value="8">Click <b>Next: Tags</b>.</li>
                                            <li value="9">Click <b>Next: Review</b>.</li>
                                            <li value="10">Type a <b>Role Name</b> and optional <b>Role description</b>, and then click <b>Create Role</b>.</li>
                                            <li value="11">	Click the policy name in the green bar at the top of the screen (“The role … has been created.”).</li>
                                            <li value="12">Copy the Role ARN to a text editor for later. </li>
                                        </ol>
                                        <div class="note"> In step 4, the Account ID is different from the main <span class="mc-variable ALVariables.Company variable">Alert Logic</span> account ID, which you may have used in other <span class="mc-variable ALVariables.AWS variable">AWS</span> role integrations.</div>
                                        <h4>Create  the connection in the <span class="mc-variable ALVariables.ALUI_1 variable">Alert Logic console</span><a name="CreatetheconnectionintheAlertLogicconsole"></a></h4>
                                        <p>Next, go back to the Create a Simple Response page to enter information in the Connect step that  grants <span class="mc-variable ALVariables.Company variable">Alert Logic</span> access to update an <span class="mc-variable ALVariables.AWS variable">AWS</span> <span class="mc-variable ALVariables.WAF_2 variable">WAF</span> IP set. </p>
                                        <p><b>To create the <span class="mc-variable ALVariables.AWS variable">AWS</span> connection in the <span class="mc-variable ALVariables.ALUI_1 variable">Alert Logic console</span>:</b>
                                        </p>
                                        <ol>
                                            <li value="1">In <b>Connection Name</b>, type a descriptive name for the connection<span style="font-family: 'Microsoft Sans Serif'">—</span>for example, "AWS IAM Role Connection for Updating an IP Set".</li>
                                            <li value="2">In <b><span class="mc-variable ALVariables.AWS variable">AWS</span> IAM Role ARN</b>, paste the Role ARN  that you noted in <a href="#CreateanIAMroleintheAWSconsole" class="MCXref xref">Create an IAM role in the AWS console</a>.</li>
                                            <li value="3">Click <b>SAVE</b>.</li>
                                        </ol>
                                        <h3>Locate the ARN of the <span class="mc-variable ALVariables.AWS variable">AWS</span> <span class="mc-variable ALVariables.WAF_2 variable">WAF</span> IP set<a name="LocatetheARNoftheAWSWAFIPset"></a></h3>
                                        <p>This response requires the ARN for the <span class="mc-variable ALVariables.AWS variable">AWS</span> <span class="mc-variable ALVariables.WAF_2 variable">WAF</span> IP set that you want <span class="mc-variable ALVariables.Company variable">Alert Logic</span> to update.</p>
                                        <p><b>To locate the </b><span style="font-weight: bold;" class="mc-variable ALVariables.AWS variable">AWS</span><b> </b><span style="font-weight: bold;" class="mc-variable ALVariables.WAF_2 variable">WAF</span> <b> IPSet ARN:</b></p>
                                        <ol>
                                            <li value="1">In your <span class="mc-variable ALVariables.AWS variable">AWS</span> account where you want <span class="mc-variable ALVariables.Company variable">Alert Logic</span> to run automated responses, go to <a href="https://console.aws.amazon.com/wafv2/homev2/ip-sets/">https://console.aws.amazon.com/wafv2/homev2/ip-sets/</a>.</li>
                                            <li value="2">Near the top of the page, to the right of IP Sets, select the region of your existing <span class="mc-variable ALVariables.AWS variable">AWS</span> <span class="mc-variable ALVariables.WAF_2 variable">WAF</span>. If you are using CloudFront, select Global (CloudFront) from the region list.</li>
                                            <li value="3">Select the IP Set by clicking the circle to the left of its name.</li>
                                            <li value="4">Click <b>Copy ARN</b> above the list of IP Sets. Save this text for use in the <span class="mc-variable ALVariables.ALUI variable">Alert Logic console</span>.</li>
                                        </ol>
                                        <h2>(Optional) Apply exclusions<a name="OptionalApplyexclusions"></a></h2>
                                        <p>If you want to exclude  <span class="mc-variable ALVariables.response_exclusion variable">IP&#160;addresses</span> from the response, in <b>Exclusion List(s)</b>, select one or more lists that define the exclusions. You can create exclusion lists from the Exclusions page if necessary, and then come back. For more information, see <a href="exclusions.htm" class="MCXref xref" data-mc-variable-override="">Exclusions</a>.</p>
                                        <p>After you choose one or more lists, or if you want to skip this step, click <b>NEXT</b>. </p>
                                        <h2> Choose when to respond<a name="Choosewhentorespond"></a></h2>
                                        <p>In the last step, choose whether to request approval before <span class="mc-variable ALVariables.Company variable">Alert Logic</span> runs the response each time. <span class="mc-variable ALVariables.Company variable">Alert Logic</span> sends the request by email and the <span class="mc-variable ALVariables.Company variable">Alert Logic</span> Mobile App. You can request approval from multiple users, such as members of your security team. The first user to answer determines whether the response is approved or rejected. Subsequent users who respond receive a message stating that the inquiry was responded to already.</p>
                                        <p>In this step you also choose the incident analytics that you want to trigger the response. You can respond to incidents generated from all analytics that <span class="mc-variable ALVariables.Company variable">Alert Logic</span>&#160;recommends as triggers, or you can choose specific analytics.</p>
                                        <p><b>To choose when to respond:</b>
                                        </p>
                                        <ol>
                                            <li value="1">If you do not want to require approval, click <b>Do not require approval</b>.</li>
                                            <li value="2">If you want to require approval, click <b>Send approval request</b>, and then  select one or more approval recipients in <b>User(s)</b>. You can use the search bar to help you find names and email addresses.<div class="note">To improve traceability of approvals, <span class="mc-variable ALVariables.Company variable">Alert Logic</span> recommends that you choose individuals not a distribution list.</div></li>
                                            <li value="3">If you want to <span class="mc-variable ALVariables.response_analytic_type variable">block external IP&#160;addresses</span> detected in incidents generated from all analytics that <span class="mc-variable ALVariables.Company variable">Alert Logic</span> recommends as triggers for this response, leave <b>Respond to all recommended analytics</b> selected. The recommended analytic for this response is "{vendor} Possible Credential Stuffing Activity Detected from {attacker_ip}."<ul data-mc-conditions="Primary.Draft Content"><li>WLA Recon</li><li>Web application buffer overflow</li></ul></li>
                                            <li value="4">If you prefer to choose from a list of all analytics available for this response type,  click <b>Choose analytics</b>, and then select one or more analytics to use as triggers for the response. You can use the search bar to help you find analytics.<div class="note">To learn more about a specific analytic, you can find it in the Threat Intelligence Center. For more information, see <a href="../../../analyze/threat-intelligence-center.htm" class="MCXref xref" data-mc-variable-override="">Threat Intelligence Center</a>.</div></li>
                                        </ol>
                                        <div data-mc-conditions="Primary.Draft Content">
                                            <h2>Troubleshooting tips<a name="Troubleshootingtips"></a></h2>
                                            <p>Here are common errors that can occur when you test the configuration and suggested troubleshooting steps.</p>
                                        </div>
                                        <h2>Technical reference</h2>
                                        <p data-mc-conditions="Primary.beta">[Ideally this paragraph would state why the following information is useful, what to do with it...]</p>
                                        <h3>Simple Response Name</h3>
                                        <p><span class="mc-variable ALVariables.AWS variable">AWS</span> WAF IP Set: Block External IP Address</p>
                                        <div data-mc-conditions="Primary.Draft Content">
                                            <h3>Permissions</h3>
                                            <p>User.ReadWrite.All permission in <span class="mc-variable ALVariables.Azure variable">Azure</span> AD</p>
                                        </div>
                                        <h3>Vendor documentation<a name="Vendordocumentation"></a></h3>
                                        <p>For general information about <span class="mc-variable ALVariables.AWS variable">AWS</span> <span class="mc-variable ALVariables.WAF_2 variable">WAF</span> and IP sets, see:</p>
                                        <ul>
                                            <li><a href="https://docs.aws.amazon.com/waf/latest/developerguide/how-aws-waf-works.html">How AWS WAF works</a>
                                            </li>
                                            <li><a href="https://docs.aws.amazon.com/waf/latest/developerguide/waf-ip-set-creating.html">Creating an IP set</a>
                                            </li>
                                            <li><a href="https://docs.aws.amazon.com/waf/latest/developerguide/waf-ip-set-using.html">Using an IP set in a rule group or Web ACL</a>
                                            </li>
                                            <li><a href="https://docs.aws.amazon.com/waf/latest/developerguide/getting-started.html">Getting started with AWS WAF</a>
                                            </li>
                                        </ul>
                                        <p>If you want to allow <span class="mc-variable ALVariables.Company variable">Alert Logic</span> to update only certain IP sets in your <span class="mc-variable ALVariables.AWS variable">AWS</span> account, you can use resource-level permissions. For more information, see:</p>
                                        <ul>
                                            <li>
                                                <p><a href="https://docs.aws.amazon.com/service-authorization/latest/reference/list_awswafv2.html">Actions, resources, and condition keys for AWS WAF V2</a>
                                                </p>
                                            </li>
                                        </ul>
                                        <div data-mc-conditions="Primary.Draft Content">
                                            <h3>Limitations</h3>
                                            <p>[Include this section if needed. Example: This action only works in AWS regions supported by <span class="mc-variable ALVariables.Company variable">Alert Logic</span>.]</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>